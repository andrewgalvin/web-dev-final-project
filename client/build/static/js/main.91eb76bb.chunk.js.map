{"version":3,"sources":["components/Header/Header.js","components/Home/Home.js","components/Dashboard/Weather.js","components/Dashboard/Todo.js","components/Dashboard/Dashboard.js","components/Login/Login.js","components/Register/Register.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","loggedIn","onClick","e","fetch","method","headers","credentials","then","r","json","data","status","body","obj","setLoggedIn","Home","Weather","useState","lat","setLat","long","setLong","setData","loading","setLoading","useEffect","isMounted","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","res","result","cod","celsius","main","name","preventDefault","Date","now","toDateString","weather","description","charAt","toUpperCase","slice","temp","toFixed","humidity","sys","sunrise","toLocaleTimeString","sunset","style","padding","Todo","todos","setTodos","alert","message","type","id","placeholder","newTodo","document","getElementById","value","JSON","stringify","todo","length","map","_id","handleRemoveTodoClick","display","justifyContent","alignItems","fontWeight","marginTop","fontSize","Dashboard","Login","navigate","useNavigate","onSubmit","FormData","currentTarget","EMAIL","get","PASSWORD","email","password","for","required","class","Register","CONFIRMPASSWORD","String","toLowerCase","match","border","RequireAuth","children","location","useLocation","replace","state","path","pathname","App","isLoading","setLoaded","Fragment","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.91eb76bb.chunk.js","sourcesContent":["import \"../../app.css\";\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Header(props) {\r\n  const handleLogoutClick = (e) => {\r\n    fetch(\"/api/user/session/remove\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Cache-Control\": \"no-cache\",\r\n      },\r\n      credentials: \"same-origin\",\r\n    })\r\n      .then((r) => r.json().then((data) => ({ status: r.status, body: data })))\r\n      .then(function (obj) {\r\n        if (obj.status === 200) {\r\n          props.setLoggedIn(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"header__container\">\r\n        <h1>Web Dev Final Project</h1>\r\n        <nav className=\"header__nav\">\r\n          <ul>\r\n            <li>\r\n              <Link to=\"/\">Home</Link>\r\n            </li>\r\n\r\n            {!props.loggedIn && (\r\n              <>\r\n                <li>\r\n                  <Link to=\"/register\">Register</Link>\r\n                </li>{\" \"}\r\n                <li>\r\n                  <Link to=\"/login\">Login</Link>\r\n                </li>\r\n              </>\r\n            )}\r\n\r\n            {props.loggedIn && (\r\n              <>\r\n                <li>\r\n                  <Link to=\"/dashboard\">Dashboard</Link>\r\n                </li>\r\n                <li onClick={handleLogoutClick}>\r\n                  <Link to=\"/login\">Logout</Link>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import \"./Home.css\";\r\n\r\nexport default function Home(props) {\r\n  return (\r\n    <div className=\"home\">\r\n      <h1>Home (Public)</h1>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport \"./Weather.css\";\r\n\r\nexport default function Weather(props) {\r\n  const [lat, setLat] = useState([]);\r\n  const [long, setLong] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    navigator.geolocation.getCurrentPosition(function (position) {\r\n      setLat(position.coords.latitude);\r\n      setLong(position.coords.longitude);\r\n    });\r\n\r\n    // Disable this during testing so we do not get rate limited\r\n    // We are limited to 1k requests / day\r\n    fetch(\r\n      `https://api.openweathermap.org/data/2.5/weather/?lat=${lat}&lon=${long}&units=metric&APPID=ed987e2716aae4a47523c9fb7aeb9abb`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.cod !== \"400\" && result.cod !== \"429\") {\r\n          if (isMounted) {\r\n            setLoading(false);\r\n            setData(result);\r\n          }\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [lat, long]); // eslint-disable-line\r\n\r\n  const handleRefresh = (e) => {\r\n    e.preventDefault();\r\n    navigator.geolocation.getCurrentPosition(function (position) {\r\n      setLat(position.coords.latitude);\r\n      setLong(position.coords.longitude);\r\n    });\r\n\r\n    fetch(\r\n      `https://api.openweathermap.org/data/2.5/weather/?lat=${lat}&lon=${long}&units=metric&APPID=ed987e2716aae4a47523c9fb7aeb9abb`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.cod !== \"400\" && result.cod !== \"429\") {\r\n          setLoading(false);\r\n          setData(result);\r\n        }\r\n      });\r\n  };\r\n\r\n  const convertToFahrenheit = (celsius) => {\r\n    return (celsius * 9) / 5 + 32;;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading === true ? (\r\n        <div>\r\n          <h1>Click here to refresh. (Doesn't work yet)</h1>\r\n        </div>\r\n      ) : (\r\n        <div className=\"weather\">\r\n          {typeof data.main !== \"undefined\" ? (\r\n            <div>\r\n              <div className=\"weather-city\">\r\n                {data.name}\r\n                <button className=\"weather-refresh\" onClick={handleRefresh}>\r\n                  Refresh\r\n                </button>\r\n              </div>\r\n              <div className=\"weather-content\">\r\n                <p>{new Date(Date.now()).toDateString()}</p>\r\n                <p>\r\n                  {data.weather[0].description.charAt(0).toUpperCase() +\r\n                    data.weather[0].description.slice(1)}\r\n                </p>\r\n              </div>\r\n              <div className=\"weather-content\">\r\n                <p>Temprature: {convertToFahrenheit(data.main.temp).toFixed(2)} &#8457;</p>\r\n                <p>Humidity: {data.main.humidity}%</p>\r\n              </div>\r\n              <div className=\"weather-content\">\r\n                <p>\r\n                  Sunrise:{\" \"}\r\n                  {new Date(data.sys.sunrise * 1000).toLocaleTimeString(\r\n                    \"en-US\"\r\n                  )}\r\n                </p>\r\n                <p>\r\n                  Sunset:{\" \"}\r\n                  {new Date(data.sys.sunset * 1000).toLocaleTimeString(\"en-US\")}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div style={{ padding: \"20px 20px\" }}>\r\n              <h4>Fetching local weather data...</h4>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./Todo.css\";\r\n\r\nexport default function Todo(props) {\r\n  const [todos, setTodos] = useState([]);\r\n  const [selected, setSelected] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/user/todos\", {\r\n      method: \"GET\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((r) => r.json().then((data) => ({ status: r.status, body: data })))\r\n      .then(function (obj) {\r\n        if (obj.status === 200) {\r\n          setTodos(obj.body.todos);\r\n        } else {\r\n          alert(obj.body.message);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const handleAddTodoClick = (e) => {\r\n    // Prevent refresh\r\n    e.preventDefault();\r\n    var newTodo = document.getElementById(\"new-todo\").value;\r\n    if (newTodo !== \"\") {\r\n      fetch(\"/api/user/new/todo\", {\r\n        method: \"POST\", // or 'PUT'\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ todo: newTodo }),\r\n      })\r\n        .then((r) =>\r\n          r.json().then((data) => ({ status: r.status, body: data }))\r\n        )\r\n        .then(function (obj) {\r\n          if (obj.status === 200) {\r\n            setTodos(obj.body.todos);\r\n          } else {\r\n            alert(obj.body.message);\r\n          }\r\n        });\r\n    } else {\r\n      alert(\"Cannot add blank todo\");\r\n    }\r\n  };\r\n\r\n  const handleRemoveTodoClick = (todo) => {\r\n    // Prevent refresh\r\n    fetch(\"/api/user/remove/todo\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ id:  todo._id}),\r\n    })\r\n      .then((r) =>\r\n        r.json().then((data) => ({ status: r.status, body: data }))\r\n      )\r\n      .then(function (obj) {\r\n        if (obj.status === 200) {\r\n          setTodos(obj.body.todos);\r\n        } else {\r\n          alert(obj.body.message);\r\n        }\r\n      });\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"todo\">\r\n      <div className=\"todo-title\">\r\n        <h5>Your Todo List</h5>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"new-todo\"\r\n            className=\"new-todo\"\r\n            id=\"new-todo\"\r\n            placeholder=\"Enter a new todo\"\r\n          />\r\n          <button className=\"new-todo-btn\" onClick={handleAddTodoClick}>\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"todo-list\">\r\n        {todos.length > 0 ? (\r\n          todos.map((todo) => {\r\n            return (\r\n              <div className=\"todo-item\">\r\n                <p>{todo.todo}</p>\r\n\r\n                <button\r\n                  className=\"remove-todo-btn\"\r\n                  onClick={(e) => handleRemoveTodoClick(todo)}\r\n                >\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\"\r\n          }}>\r\n            <p style={{fontWeight: \"bold\", marginTop: \"20px\", fontSize: \"18px\"}}>No todos yet... add one to get started!</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Dashboard.css\";\r\nimport Weather from \"./Weather.js\";\r\nimport Todo from \"./Todo.js\";\r\n\r\nexport default function Dashboard(props) {\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <article>\r\n        <div className=\"dashboard-weather\">\r\n          <Weather/>\r\n        </div>\r\n      </article>\r\n      <article>\r\n        <div className=\"dashboard-todo-list\">\r\n          <Todo/>\r\n        </div>\r\n      </article>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Login.css\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nexport default function Login(props) {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLoginClick = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n\r\n    let EMAIL = data.get(\"email\");\r\n    let PASSWORD = data.get(\"password\");\r\n\r\n    fetch(\"/api/user/login\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: EMAIL,\r\n        password: PASSWORD,\r\n      }),\r\n    })\r\n      .then((r) => r.json().then((data) => ({ status: r.status, body: data })))\r\n      .then(function (obj) {\r\n        if (obj.status === 200) {\r\n          props.setLoggedIn(true);\r\n          navigate(\"/dashboard\");\r\n        } else {\r\n          alert(obj.body.message);\r\n        }\r\n      });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"login\">\r\n      <form onSubmit={handleLoginClick}>\r\n        <div className=\"login-container\">\r\n          <h1>\r\n            <span>Login</span>\r\n          </h1>\r\n          <p>Fill in the below form to login.</p>\r\n\r\n          <div className=\"login-input\">\r\n            <label for=\"email\">\r\n              <b>Email</b>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              required\r\n            />\r\n\r\n            <label for=\"password\">\r\n              <b>Password</b>\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              required\r\n            />\r\n            <button type=\"submit\" class=\"loginbtn\">\r\n              Login\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import \"../../app.css\";\r\nimport \"./Register.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Register(props) {\r\n  const navigate = useNavigate();\r\n\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  const handleRegisterClick = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n\r\n    let EMAIL = data.get(\"email\");\r\n    let PASSWORD = data.get(\"password\");\r\n    let CONFIRMPASSWORD = data.get(\"confirm-password\");\r\n\r\n    // Validate user email using REGEX\r\n    // regex taken from http://jsfiddle.net/ghvj4gy9/\r\n    if (!validateEmail(EMAIL)) {\r\n      document.getElementById(\"email\").style.border = \"1px solid red\";\r\n      return;\r\n    } else {\r\n      document.getElementById(\"email\").style.border = \"none\";\r\n    }\r\n\r\n    // Validate passwords are the same\r\n    if (PASSWORD !== CONFIRMPASSWORD) {\r\n      document.getElementById(\"password\").style.border = \"1px solid red\";\r\n      document.getElementById(\"confirm-password\").style.border =\r\n        \"1px solid red\";\r\n      return;\r\n    } else {\r\n      document.getElementById(\"password\").style.border = \"none\";\r\n      document.getElementById(\"confirm-password\").style.border = \"none\";\r\n    }\r\n\r\n    fetch(\"/api/user/register\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: EMAIL,\r\n        password: PASSWORD,\r\n      }),\r\n    })\r\n      .then((r) => r.json().then((data) => ({ status: r.status, body: data })))\r\n      .then(function (obj) {\r\n        if (obj.status === 200) {\r\n          alert(\"Account created!\");\r\n          navigate(\"/login\");\r\n        } else if (obj.status === 401) {\r\n          alert(\"Email taken.\");\r\n        }\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"register\">\r\n      <form onSubmit={handleRegisterClick}>\r\n        <div className=\"register-container\">\r\n          <h1>\r\n            <span>Register</span>\r\n          </h1>\r\n          <p>Fill in the below form to register.</p>\r\n\r\n          <div className=\"register-input\">\r\n            <label for=\"email\">\r\n              <b>Email</b>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              required\r\n            />\r\n\r\n            <label for=\"password\">\r\n              <b>Password</b>\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              required\r\n            />\r\n\r\n            <label for=\"confirm-password\">\r\n              <b>Confirm Password</b>\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Confirm Password\"\r\n              name=\"confirm-password\"\r\n              id=\"confirm-password\"\r\n              required\r\n            />\r\n            <button type=\"submit\" class=\"registerbtn\">\r\n              Register\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { useLocation, Navigate } from \"react-router-dom\";\n\nimport Header from \"./components/Header/Header.js\";\n\nimport Home from \"./components/Home/Home.js\";\nimport Dashboard from \"./components/Dashboard/Dashboard.js\";\nimport Login from \"./components/Login/Login.js\";\nimport Register from \"./components/Register/Register.js\";\n\nimport \"./app.css\";\n\nfunction RequireAuth({ children, loggedIn }) {\n  const location = useLocation();\n\n  return loggedIn ? (\n    children\n  ) : (\n    <Navigate to=\"/login\" replace state={{ path: location.pathname }} />\n  );\n}\n\nexport default function App() {\n  const [isLoading, setLoaded] = useState(true);\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  useEffect(() => {\n    fetch(\"/api/user/session\", {\n      method: \"POST\", // or 'PUT'\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n      },\n      credentials: \"same-origin\",\n    })\n      .then((r) => r.json().then((data) => ({ status: r.status, body: data })))\n      .then(function (obj) {\n        if (obj.status === 200) {\n          setLoggedIn(true);\n          setLoaded(!isLoading);\n        } else {\n          setLoaded(!isLoading);\n        }\n      });\n  }, []); // eslint-disable-line\n\n  return (\n    <React.Fragment>\n      {isLoading ? (\n        <></>\n      ) : (\n        <>\n          <Header loggedIn={loggedIn} setLoggedIn={setLoggedIn} />\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route\n              path=\"/login\"\n              element={<Login loggedIn={loggedIn} setLoggedIn={setLoggedIn} />}\n            />\n            <Route path=\"/register\" element={<Register />} />\n            <Route\n              path=\"/dashboard\"\n              element={\n                <RequireAuth loggedIn={loggedIn}>\n                  <Dashboard loggedIn={loggedIn} setLoggedIn={setLoggedIn} />\n                </RequireAuth>\n              }\n            />\n          </Routes>\n        </>\n      )}\n    </React.Fragment>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <BrowserRouter>\n        <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}